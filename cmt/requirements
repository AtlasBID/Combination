package Combination

use AtlasPolicy                 AtlasPolicy-01-*

# We are using the combinator parser, spirit, in boost
# to parse our text files.
use CalibrationDataInterface	CalibrationDataInterface-*	PhysicsAnalysis/JetTagging/JetTagPerformanceCalibration

#
# Library and app build instructions
#

library Combination *.cxx

application FTGenerateSummary ../bin/FTGenerateSummary.cxx
apply_pattern application_alias FTGenerateSummary

application FTConvertToCDI ../bin/FTConvertToCDI.cxx
apply_pattern application_alias FTConvertToCDI

application FTDump ../bin/FTDump.cxx
apply_pattern application_alias FTDump

application FTCombine ../bin/FTCombine.cxx
apply_pattern application_alias FTCombine

apply_pattern installed_library

private

#
# The boost templates get a little deep! :-)
#

macro_append Combination_cppflags " -ftemplate-depth-200"

#
# We need the boost library
#
use AtlasBoost                  AtlasBoost-*             External
use AtlasROOT			AtlasROOT-*		 External

apply_tag ROOTRooFitLibs

#
# Use "make CppUnit" to run the unit tests for this
# package
#

use TestPolicy			TestPolicy-00-*
use TestTools			TestTools-*		AtlasTest
#apply_pattern CppUnit name=CombinationParserTests files="-s=../test CombinerTest_CppUnit.cxx ParserTest_CppUnit.cxx CombinationContextTest_CppUnit.cxx CommonCommandLineUtilsTest_CppUnit.cxx BinBoundaryUtilsTest_CppUnit.cxx"
apply_pattern CppUnit name=CombinationParserTests files="-s=../test CombinationContextTest_CppUnit.cxx"

#
# Turn on debugging if it is needed!!
#

macro cppdebugflags '$(cppdebugflags_s)'
macro_remove componentshr_linkopts "-Wl,-s"
