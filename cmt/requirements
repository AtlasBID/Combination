package Combination

use AtlasPolicy                 AtlasPolicy-*

# We are using the combinator parser, spirit, in boost
# to parse our text files.
use CalibrationDataInterface	CalibrationDataInterface-*	PhysicsAnalysis/JetTagging/JetTagPerformanceCalibration

#
# Library and app build instructions.
#

library Combination *.cxx

application FTManipSys ../bin/FTManipSys.cxx
apply_pattern application_alias FTManipSys

application FTDStarCalc ../bin/FTDStarCalc.cxx
apply_pattern application_alias FTDStarCalc

application FTCombineBins ../bin/FTCombineBins.cxx
apply_pattern application_alias FTCombineBins

application FTGenerateSummary ../bin/FTGenerateSummary.cxx
apply_pattern application_alias FTGenerateSummary

application FTConvertToCDI ../bin/FTConvertToCDI.cxx
apply_pattern application_alias FTConvertToCDI

application FTDump ../bin/FTDump.cxx
apply_pattern application_alias FTDump

application FTCombine ../bin/FTCombine.cxx
apply_pattern application_alias FTCombine

application FTPlot ../bin/FTPlot.cxx
apply_pattern application_alias FTPlot

application FTCheckOutput ../bin/FTCheckOutput.cxx
apply_pattern application_alias FTCheckOutput

application FTExploreFit ../bin/FTExploreFit.cxx
apply_pattern application_alias FTExploreFit

apply_pattern installed_library

use AtlasROOT			AtlasROOT-*		 External

apply_tag ROOTRooFitLibs
apply_tag ROOTGraphicsLibs
apply_tag ROOTMathLibs

private

#
# We need the boost library
#
use AtlasBoost                  AtlasBoost-*             External

#
# The boost templates get a little deep! :-)
#

macro_append Combination_cppflags " -ftemplate-depth-200"
#
# Use "make CppUnit" to run the unit tests for this
# package
#

use TestPolicy			TestPolicy-*
#use TestTools			TestTools-*		AtlasTest
apply_pattern CppUnit name=CombinationParserTests files="-s=../test CombinerTest_CppUnit.cxx ParserTest_CppUnit.cxx CombinationContextTest_CppUnit.cxx CommonCommandLineUtilsTest_CppUnit.cxx BinBoundaryUtilsTest_CppUnit.cxx CDIConverterTest_CppUnit.cxx MeasurementTest_CppUnit.cxx MeasurementUtilsTest_CppUnit.cxx BinUtilsTest_CppUnit.cxx"

#
# Turn on debugging if it is needed!!
#

#macro cppdebugflags '$(cppdebugflags_s)'
#macro_remove componentshr_linkopts "-Wl,-s"
